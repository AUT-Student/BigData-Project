# مجموعه‌داده و اوراکل
مجموعه‌داده‌ها در جدول زیر آورده شده‌اند و توضیحات کامل‌تر آن در پیوست F است.
![[Pasted image 20220710124805.png]]
مطابق با جدول فوق:
* گراف‌های snapshot شامل دنباله‌ای از گراف‌ها در طول زمان است. طول دنباله در پرانتز آورده شده است.
* گراف‌های زمانی بر اساس پیدایش یال در طول زمان ایجاد شده اند.

در ادامه پیش‌بینی‌کننده‌های سنگینی یال مطابق جدول بالا تشریح می‌شود. پیش‌بینی‌کننده با نوع مجموعه‌داده و اطلاعات در دسترس برای هر کدام سازگار می‌شود. برخی از مجموعه‌های داده تنها شامل ساختار گراف بدون ویژگی‌های معنایی است بنابراین امکان آموزش پیش‌بینی‌کننده‌های یادگیری ماشین کلاسیک برای سنگینی یال وجود ندارد. در این موارد از تعداد واقعی بر روی بخش کوچک داده (یا ده درصد گراف اول در دنباله‌ای از گراف‌ها یا یال‌های ابتدایی در گراف‌های موقت) به عنوان مقادیر پیش‌بینی‌شده برای داده‌های دنباله‌ای استفاده شده است. اگرچه امکان ایجاد پیش‌بینی‌کننده‌های پیچیده‌تر بر روی سه تا از مجموعه‌های داده با استفاده از بردارهای ویژگی در رگرسیون خطی مانند شبکه عصبی گرافی وجود دارد. جزئیات پیش‌بینی‌کننده‌ها در ادامه آورده شده است:

***Snapshot*** برای مجموعه‌داده گرافی Oregon و CAIDA که شامل دنباله‌ای از گراف‌ها هستند از شمارش دقیق روی نسبت کوچکی از اولین گراف به عنوان پیش‌بینی برای تمام گراف‌های‌ها دنباله استفاده شده است. به طور خاص تعداد مثلث‌ها برای هر یال یعنی $N_e$ بر روی اولین گراف از هر مجموعه‌داده snapsh حساب شده است. 
سپس تنها ۱۰٪ از یال‌های با بیشترین وزن نگهداری شده است و از مقادیر آن برای تخمین سنگینی یال گراف‌های بعدی استفاده شده است. اگر یک یال ذخیره نشده باشد مقدار $N_e$ برابر با صفر درنظر گرفته می‌شود.

***Prefix*** در گراف زمانی WikiBooks از شمارش دقیق $N_e$ بر روی نیمه اول یال‌های گراف (بر اساس timestamp) به عنوان مقادیر پیش‌بینی‌شده نیمه دوم استفاده شده است.

***Linear Regression*** در گراف زمانی Reddit Hyperlinks از مجموعه‌داده مجزا شامل تعبیه ویژگی ۳۰۰ بعدی از گره‌های گراف استفاده شده است. دو تعبیه در فضای ویژگی به یک دیگر نزدیک هستند اگر گره‌های مشترک همسایه‌های مشابه داشته باشند. برای تولید تعبیه یال $f(e)$ برای یال $e=xy$ از تعبیه  گره دو سر آن برای ایجاد تعبیه ۶۰۲ بعدی مطابق رابطه زیر استفاده می‌شود:
$$(f(u), f(v), ||f(u) - f(v)||_1, ||f(u)-f(v)||_2)$$
نهایتا از یک رگرسیون خطی برای پیش‌بینی $N_e$ با داشتن تعبیه یال استفاده می‌شود. آموزش با نصفه اول یال‌ها انجام می‌شود.

***Link Prediction (GNN)*** برای هر یک از دو مجموعه‌داده Twitch و Wikipedia نیمی از یال‌ها حذف شده است تا مجموعه آموزش حاصل شود و مابقی یال‌ها برای تست استفاده شده است. یک اوراکل پیش‌بینی‌کننده یال با GNN‌ آموزش داده‌اند که برای پیش‌بینی میزان سنگینی یال‌های تست استفاده می‌شود. برای هر یال که در جریان یال‌های تست می‌آید از احتمال پیش‌بینی‌شده تشکیل یک یال به سایر رئوس استفاده می‌شود. جزئیات در F.2 است.

***Expected Value (EV)*** برای گراف Powerlaw تعداد پیش‌بینی‌شده مثلث‌ها برای هر $N_e$ برابر با EV آن است که می‌تواند به صورت تحلیلی در مدل گرافی تصادفی CLV بدست آید.

# مدل‌های پایه
ThinkD و WRS برای حالت ترتیب اختیاری استفاده می‌شوند. این دو مدل الگوریتم‌های تک‌گذر هستند. ThinkD دو نسخه سریع و دقیق دارد که برای مقایسه از مدل دقیق که دقت بهتری دارد استفاده شده است. برای هر دو مدل کد موجود است.

WVV برای حالت ترتیب اختیاری و لیست مجاورت است. از الگوریتم‌های جریانی تک‌گذر برای این دو حالت استفاده می‌شود.

# معیار خطا
صحت با استفاده از خطای نسبی (Relative Error) با رابطه $|1-\tilde{T}/T|$ بدست می‌آید که $T$ تعداد مثلث‌ها و $\tilde{T}$ پیش‌بینی الگوریتم است.
نمودارها فضای اشغال‌شده الگوریتم را بر اساس تعداد یال‌ها نسبت به خطای نسبی نشان می‌دهد. میانه خطا برای ۵۰ اجرای مستقل از هر نتیجه بدست آمده است و با نماد $\pm$ انحراف معیار بیان شده است.
