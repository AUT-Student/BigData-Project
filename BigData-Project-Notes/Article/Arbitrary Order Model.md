# پاراگراف اول
در این بخش الگوریتم ۴ برای تخمین تعداد مثلث‌ها در یک مدل با ترتیب اخیتاری از یال‌ها در جریان شرح داده شده است. سودوکد الگوریتم و اثبات‌ها در پیوست C مقاله آورده شده است و در اینجا صرفا منطق الگوریتم بررسی می‌شود. روش آن‌ها بر پایه نمونه‌برداری یال‌هایی از جریان است که می‌رسند و بررسی می‌شوند اگر هر یال جدید تشکیل یک مثلث با یال‌های قبلی بدهد. اگرچه این رویکرد شکست می‌خورد چنانچه برخی از یال‌ها که تعداد زیادی مثلث داشته باشند و ممکن است منجر به تخمین کم مثلث‌ها شود. بنابراین باید یک اوراکل یال سنگین استفاده شود. در این حالت یال‌های یا سنگین هستند یا سبک. زمانی که یک یال جدید می‌رسد ابتدا به اوراکل کوئری می‌زنیم که آیا یال سنگین است یا نه. اگر یال سنگین بود آن نگهداشته می‌شود و در غیر این صورت با یک احتمالی حفظ می‌شود. مانند مدل لیست مجاورت استراتژی امکان کاهش واریانس پیش‌بینی وجود دارد. با متوازن‌کردن نرخ نمونه‌برداری و حد آستانه سنگینی می‌توان کاری کرد که فضای مورد نیاز زیاد نباشد و در عین حال دقت تخمین تضمین شود.

# پاراگراف دوم
با جزئیات بیشتر الگوریتم پیشنهادی به این شرح است. ابتدا یک آستانه سنگینی $\rho$ تعیین می‌شود. سپس پارامتر نمونه‌برداری $p$ مشخص می‌شود. $H$ مجموعه یال‌های سنگین پیش‌بینی‌شده و $S_L$ نمونه تصادفی از یال‌های سبک پیش‌بینی‌شده است. سه نوع مثلث شمارده می‌شود. $l_1$ مثلث‌های $\Delta = (e_1, e_2, e)$ را می‌شمارد که اولین دو یال دیده‌شده مثلث هر دو در $S_L$ باشند. به طور مشابه $l_2$ مثلث‌هایی است که دو یال اول یکی در $S_L$ و دیگری در $H$ است. $l_3$ مثلث‌هایی است که هر دو یال اول در $H$ باشد. پیش‌بینی نهایی برابر با $l = l_1/p^2 + l_2/p + l_3$ خواهد بود.

![[Pasted image 20220710123113.png]]
